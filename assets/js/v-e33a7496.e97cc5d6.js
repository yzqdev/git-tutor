"use strict";(self.webpackChunkgit_tutor=self.webpackChunkgit_tutor||[]).push([[1879],{4273:(n,e,a)=>{a.r(e),a.d(e,{data:()=>s});const s=JSON.parse('{"key":"v-e33a7496","path":"/github/git-snippets.html","title":"git 技巧","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"清空所有commit记录","slug":"清空所有commit记录","link":"#清空所有commit记录","children":[{"level":3,"title":"git分支合并","slug":"git分支合并","link":"#git分支合并","children":[]},{"level":3,"title":"git删除远程","slug":"git删除远程","link":"#git删除远程","children":[]}]},{"level":2,"title":"git 解除fork关系","slug":"git-解除fork关系","link":"#git-解除fork关系","children":[]}],"git":{"createdTime":1661668844000,"updatedTime":1661668844000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":1}]},"readingTime":{"minutes":0.99,"words":298},"filePathRelative":"github/git-snippets.md","localizedDate":"2022年8月28日","excerpt":""}')},9925:(n,e,a)=>{a.r(e),a.d(e,{default:()=>c});var s=a(6808);const i=(0,s._)("h1",{id:"git-技巧",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#git-技巧","aria-hidden":"true"},"#"),(0,s.Uk)(" git 技巧")],-1),t={href:"https://www.gitkraken.com/download/windows64",target:"_blank",rel:"noopener noreferrer"},l={href:"https://github.com/tj/git-extras/",target:"_blank",rel:"noopener noreferrer"},r=(0,s.uE)('<h2 id="清空所有commit记录" tabindex="-1"><a class="header-anchor" href="#清空所有commit记录" aria-hidden="true">#</a> 清空所有commit记录</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 1.Checkout</span>\n\n<span class="token function">git</span> checkout <span class="token parameter variable">--orphan</span> latest_branch<span class="token comment"># (不能用switch会什么文件都没有)</span>\n\n<span class="token comment"># 2. Add all the files</span>\n\n<span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-A</span>\n\n<span class="token comment"># 3. Commit the changes</span>\n\n<span class="token function">git</span> commit <span class="token parameter variable">-am</span> <span class="token string">&quot;commit message&quot;</span>\n\n\n<span class="token comment"># 4. Delete the branch</span>\n\n<span class="token function">git</span> branch <span class="token parameter variable">-D</span> main\n\n<span class="token comment"># 5.Rename the current branch to master</span>\n\n<span class="token function">git</span> branch <span class="token parameter variable">-m</span> main\n\n<span class="token comment"># 6.Finally, force update your repository</span>\n\n<span class="token function">git</span> push <span class="token parameter variable">-f</span> origin main\n\n<span class="token comment"># 7.清理gc</span>\n<span class="token function">git</span> gc <span class="token parameter variable">--aggressive</span> <span class="token parameter variable">--prune</span><span class="token operator">=</span>all \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="git分支合并" tabindex="-1"><a class="header-anchor" href="#git分支合并" aria-hidden="true">#</a> git分支合并</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#当前是dev分支,要合并到main分支,push然后回到dev分支</span>\n<span class="token function">git</span> switch main\n\n<span class="token function">git</span> merge dev\n\n<span class="token function">git</span> push origin dev\n\n<span class="token function">git</span> switch dev\n\n<span class="token comment"># 更简单的方法,使用rebase(当前是dev分支)</span>\n<span class="token function">git</span> rebase origin main\n\n<span class="token function">git</span> push origin main <span class="token comment">#此时还在dev分支</span>\n\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="git删除远程" tabindex="-1"><a class="header-anchor" href="#git删除远程" aria-hidden="true">#</a> git删除远程</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> push origin <span class="token parameter variable">--delete</span> main\n\n<span class="token comment"># 删除本地缓存</span>\n<span class="token function">git</span> <span class="token function">rm</span> <span class="token parameter variable">--cached</span> <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="git-解除fork关系" tabindex="-1"><a class="header-anchor" href="#git-解除fork关系" aria-hidden="true">#</a> git 解除fork关系</h2><p>实际做起来却意外的简单。 首先，把删去所有与本地仓库连接的远程仓库</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>git remote remove origin\ngit remote remove upstream \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后，把 GitHub 上自己的远程仓库给删了。 最后，在 GitHub 上重新建立同名仓库，然后把本地仓库关联上去。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>git remote add origin <span class="token generics"><span class="token punctuation">&lt;</span>your repo<span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>于是就大功告成了</p>',12),d={},c=(0,a(8580).Z)(d,[["render",function(n,e){const a=(0,s.up)("ExternalLinkIcon");return(0,s.wg)(),(0,s.iD)("div",null,[i,(0,s._)("p",null,[(0,s.Uk)("软件 tortoise git "),(0,s._)("a",t,[(0,s.Uk)("https://www.gitkraken.com/download/windows64"),(0,s.Wm)(a)]),(0,s.Uk)(" github desktop ​")]),(0,s._)("p",null,[(0,s._)("a",l,[(0,s.Uk)("https://github.com/tj/git-extras/"),(0,s.Wm)(a)])]),r])}]])},8580:(n,e)=>{e.Z=(n,e)=>{const a=n.__vccOpts||n;for(const[n,s]of e)a[n]=s;return a}}}]);